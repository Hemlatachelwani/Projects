Setup

when you will run the code, u will get the below error , then do the settings - choose the gmail account on which 2 step auth is enabled n pls dont confuse app password with other passwords. thr r lot of passwords.  use app password instead of ur gmail password w



Google has disabled the ability to enable less secure apps as of May 2022. Because of this, the previous solution of enabling less secure apps is no longer valid.

Steps:

Go into your sending email address and make your way to the settings.
Find two-step authentication and enable it.
Under two-step authentication there should be a tab labeled App passwords. Click on it then select mail as the app and your device of choice
Use the password generated from the app password as the password for your Gmail account.
Credits to: Link to source
